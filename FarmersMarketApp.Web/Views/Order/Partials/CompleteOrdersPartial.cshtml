@using FarmersMarketApp.Web.ViewModels.OrderViewModels
@using System.Globalization
@model IEnumerable<OrderProductsViewModel>

<table class="table table-hover table-striped align-middle text-center visually-hidden" id="completedOrdersTable">
	<thead>
		<tr>
			<th>Order number</th>
			<th>Order placed</th>
			<th>Total items</th>
			<th>Total discount</th>
			<th>Total price</th>
			<th colspan="2"></th>
		</tr>
	</thead>
	@if (Model.Any())
	{
		<tbody>
			@foreach (var order in Model)
			{
				<tr class="table-light" scope="row">
					<td>@order.Id</td>
					<td>@order.CreateDate</td>
					<td>@order.TotalUnitItems</td>
					<td>@order.TotalDiscount.ToString("C", CultureInfo.CreateSpecificCulture("en-US"))</td>
					<td>@order.TotalPrice.ToString("C", CultureInfo.CreateSpecificCulture("en-US"))</td>
					<td colspan="2" class="">
						<button class="btn btn-sm btn-info me-2 orderBtn" data-order-id="@order.Id">Details</button>
					</td>
				</tr>
			}

		</tbody>
	}
	else
	{
		<tbody>
			<tr class="table-light" scope="row">
				<td colspan="7" class="pt-4 pb-4">
					No previous completed orders available.
				</td>
			</tr>
		</tbody>
	}
</table>